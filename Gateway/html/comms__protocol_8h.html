<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>sensor_network: /sensor_network/gateway_serial/comms_protocol.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">sensor_network
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">/sensor_network/gateway_serial/comms_protocol.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Header file for the communication protocol library. Contains the used data structures, function declaration and general configuartion options for the library.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;Arduino.h&gt;</code><br />
<code>#include &lt;SPI.h&gt;</code><br />
<code>#include &lt;LoRa.h&gt;</code><br />
<code>#include &lt;cppQueue.h&gt;</code><br />
<code>#include &lt;aes256.h&gt;</code><br />
<code>#include &quot;node_definitions.h&quot;</code><br />
</div>
<p><a href="comms__protocol_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structstr_payload.html">strPayload</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structstr_msg.html">strMsg</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:aafd24a334088de3d7fef309914d49101"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="comms__protocol_8h.html#aafd24a334088de3d7fef309914d49101">IMPLEMENTATION</a>&#160;&#160;&#160;FIFO</td></tr>
<tr class="separator:aafd24a334088de3d7fef309914d49101"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addaaa188262c960b2aa51012d684d084"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="comms__protocol_8h.html#addaaa188262c960b2aa51012d684d084">MAX_N_RETRY</a>&#160;&#160;&#160;3</td></tr>
<tr class="separator:addaaa188262c960b2aa51012d684d084"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13f06f86104b4525a9429ff04d1c852d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="comms__protocol_8h.html#a13f06f86104b4525a9429ff04d1c852d">TIMEOUT_INTERVAL</a>&#160;&#160;&#160;1000</td></tr>
<tr class="separator:a13f06f86104b4525a9429ff04d1c852d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a623ec78b7909090dbedac4af1d52abb4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="comms__protocol_8h.html#a623ec78b7909090dbedac4af1d52abb4">MAX_QUEUE_SIZE</a>&#160;&#160;&#160;5</td></tr>
<tr class="separator:a623ec78b7909090dbedac4af1d52abb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad51ded0bbd705f02f73fc60c0b721ced"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="comms__protocol_8h.html#ad51ded0bbd705f02f73fc60c0b721ced">BLOCK_SIZE</a>&#160;&#160;&#160;16</td></tr>
<tr class="separator:ad51ded0bbd705f02f73fc60c0b721ced"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6303f7392a2d06be5a121c54278d561b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="comms__protocol_8h.html#a6303f7392a2d06be5a121c54278d561b">MAX_PAYLOAD_SIZE</a>&#160;&#160;&#160;16</td></tr>
<tr class="separator:a6303f7392a2d06be5a121c54278d561b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44257c425d2f3b28f78f1f0f048c3307"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="comms__protocol_8h.html#a44257c425d2f3b28f78f1f0f048c3307">ENC_BLOCK_SIZE</a>&#160;&#160;&#160;(1*<a class="el" href="comms__protocol_8h.html#ad51ded0bbd705f02f73fc60c0b721ced">BLOCK_SIZE</a>)</td></tr>
<tr class="separator:a44257c425d2f3b28f78f1f0f048c3307"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf744f77bd35653cd140f056c5945650"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="comms__protocol_8h.html#acf744f77bd35653cd140f056c5945650">MAX_ENC_PAYLOAD_SIZE</a>&#160;&#160;&#160;((<a class="el" href="comms__protocol_8h.html#a6303f7392a2d06be5a121c54278d561b">MAX_PAYLOAD_SIZE</a>/<a class="el" href="comms__protocol_8h.html#ad51ded0bbd705f02f73fc60c0b721ced">BLOCK_SIZE</a>)*<a class="el" href="comms__protocol_8h.html#a44257c425d2f3b28f78f1f0f048c3307">ENC_BLOCK_SIZE</a>)+1</td></tr>
<tr class="separator:acf744f77bd35653cd140f056c5945650"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44f75a932d96b59ace67a29d83376492"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="comms__protocol_8h.html#a44f75a932d96b59ace67a29d83376492">MAX_MSG_ID</a>&#160;&#160;&#160;256</td></tr>
<tr class="separator:a44f75a932d96b59ace67a29d83376492"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af78f78086b32d7a92d4ee591e3d0345a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="comms__protocol_8h.html#af78f78086b32d7a92d4ee591e3d0345a">STATUS_UPDATE_INTERVAL</a>&#160;&#160;&#160;60000</td></tr>
<tr class="separator:af78f78086b32d7a92d4ee591e3d0345a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9fe47395310b34fa1ceb112c9ca10e2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="comms__protocol_8h.html#ab9fe47395310b34fa1ceb112c9ca10e2">BROADCAST_ID</a>&#160;&#160;&#160;0xFF</td></tr>
<tr class="separator:ab9fe47395310b34fa1ceb112c9ca10e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a9e00f468ca1d333265668dbd3c712260"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structstr_payload.html">strPayload</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="comms__protocol_8h.html#a9e00f468ca1d333265668dbd3c712260">Payload</a></td></tr>
<tr class="separator:a9e00f468ca1d333265668dbd3c712260"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad014e4a11d57536042f2c321a8bbbb05"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structstr_msg.html">strMsg</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="comms__protocol_8h.html#ad014e4a11d57536042f2c321a8bbbb05">Msg</a></td></tr>
<tr class="separator:ad014e4a11d57536042f2c321a8bbbb05"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:af107f16dd1552bb658c1936141d9ae7a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="comms__protocol_8h.html#af107f16dd1552bb658c1936141d9ae7a">LoRa_rxMode</a> ()</td></tr>
<tr class="memdesc:af107f16dd1552bb658c1936141d9ae7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the LoRa radio to receive mode.  <a href="comms__protocol_8h.html#af107f16dd1552bb658c1936141d9ae7a">More...</a><br /></td></tr>
<tr class="separator:af107f16dd1552bb658c1936141d9ae7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2b412b05e4e8c055d44f3eaab81a3ec"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="comms__protocol_8h.html#af2b412b05e4e8c055d44f3eaab81a3ec">LoRa_txMode</a> ()</td></tr>
<tr class="memdesc:af2b412b05e4e8c055d44f3eaab81a3ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the LoRa radio to transmit mode.  <a href="comms__protocol_8h.html#af2b412b05e4e8c055d44f3eaab81a3ec">More...</a><br /></td></tr>
<tr class="separator:af2b412b05e4e8c055d44f3eaab81a3ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af16159d027d3309f71766d777aa5c83c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="comms__protocol_8h.html#af16159d027d3309f71766d777aa5c83c">LoRa_sendMessage</a> (byte *message)</td></tr>
<tr class="memdesc:af16159d027d3309f71766d777aa5c83c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the radio to transmit mode, sends a message string using the LoRa radio and sets the radio back to receive mode.  <a href="comms__protocol_8h.html#af16159d027d3309f71766d777aa5c83c">More...</a><br /></td></tr>
<tr class="separator:af16159d027d3309f71766d777aa5c83c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a773d5138b9c5e9705f3fd1c1c1dd27fe"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="comms__protocol_8h.html#a773d5138b9c5e9705f3fd1c1c1dd27fe">decryptMsg</a> (String msg)</td></tr>
<tr class="separator:a773d5138b9c5e9705f3fd1c1c1dd27fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd48c535050ffcd708e68f1a495c809e"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="comms__protocol_8h.html#acd48c535050ffcd708e68f1a495c809e">decryptMsg2</a> (char msg[<a class="el" href="comms__protocol_8h.html#a6303f7392a2d06be5a121c54278d561b">MAX_PAYLOAD_SIZE</a>+1])</td></tr>
<tr class="memdesc:acd48c535050ffcd708e68f1a495c809e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decrypts a message string using the AES256 algorythm with the corresponding node key.  <a href="comms__protocol_8h.html#acd48c535050ffcd708e68f1a495c809e">More...</a><br /></td></tr>
<tr class="separator:acd48c535050ffcd708e68f1a495c809e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54817002e33761dc61558b1138749dfb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="comms__protocol_8h.html#a54817002e33761dc61558b1138749dfb">onReceive</a> (int packetSize)</td></tr>
<tr class="memdesc:a54817002e33761dc61558b1138749dfb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called every time a new message is received. Filters unwanted messages, decrypts the payload, gets the relevant fields from the payload and sends back an acknowledge message if necessary.  <a href="comms__protocol_8h.html#a54817002e33761dc61558b1138749dfb">More...</a><br /></td></tr>
<tr class="separator:a54817002e33761dc61558b1138749dfb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a219dcdade25952b91806066261a45539"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="comms__protocol_8h.html#a219dcdade25952b91806066261a45539">onTxDone</a> ()</td></tr>
<tr class="separator:a219dcdade25952b91806066261a45539"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adca86b52f12e8136916a580c1a3aaf02"><td class="memItemLeft" align="right" valign="top">String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="comms__protocol_8h.html#adca86b52f12e8136916a580c1a3aaf02">splitAndEncrypt</a> (char msg[<a class="el" href="comms__protocol_8h.html#a6303f7392a2d06be5a121c54278d561b">MAX_PAYLOAD_SIZE</a>])</td></tr>
<tr class="separator:adca86b52f12e8136916a580c1a3aaf02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae084789be1260b3603c726abedbf8631"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="comms__protocol_8h.html#ae084789be1260b3603c726abedbf8631">sendSensorData</a> (byte sensorID, byte sensorVal)</td></tr>
<tr class="memdesc:ae084789be1260b3603c726abedbf8631"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds to the message queue an uplink message containing sensor data.  <a href="comms__protocol_8h.html#ae084789be1260b3603c726abedbf8631">More...</a><br /></td></tr>
<tr class="separator:ae084789be1260b3603c726abedbf8631"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a091b9218e6ed5b060bc3d1104dde7109"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="comms__protocol_8h.html#a091b9218e6ed5b060bc3d1104dde7109">getMsgFromQueueAndSend</a> (unsigned long currentMillis)</td></tr>
<tr class="memdesc:a091b9218e6ed5b060bc3d1104dde7109"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a message from the send queue and send it. Implements retransmission in case an acknowledge message is not received. Aware of a failed transmission.  <a href="comms__protocol_8h.html#a091b9218e6ed5b060bc3d1104dde7109">More...</a><br /></td></tr>
<tr class="separator:a091b9218e6ed5b060bc3d1104dde7109"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ac3eeb5847878d4d438bfa7622eb428"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="comms__protocol_8h.html#a3ac3eeb5847878d4d438bfa7622eb428">sendStatus</a> (byte msgID)</td></tr>
<tr class="memdesc:a3ac3eeb5847878d4d438bfa7622eb428"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send an uplink message containing the node status.  <a href="comms__protocol_8h.html#a3ac3eeb5847878d4d438bfa7622eb428">More...</a><br /></td></tr>
<tr class="separator:a3ac3eeb5847878d4d438bfa7622eb428"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cb3b91f794c0555e3adbe5fce614074"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="comms__protocol_8h.html#a4cb3b91f794c0555e3adbe5fce614074">sendAck</a> (byte msgID)</td></tr>
<tr class="memdesc:a4cb3b91f794c0555e3adbe5fce614074"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send an acknowledge message confirming the reception of an uplink transmission.  <a href="comms__protocol_8h.html#a4cb3b91f794c0555e3adbe5fce614074">More...</a><br /></td></tr>
<tr class="separator:a4cb3b91f794c0555e3adbe5fce614074"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a422ca7dc35be9c6885ef6a17191d2d5b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="comms__protocol_8h.html#a422ca7dc35be9c6885ef6a17191d2d5b">setActState</a> (int ID, int val)</td></tr>
<tr class="memdesc:a422ca7dc35be9c6885ef6a17191d2d5b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the state of the relevant actuator with the relevant value.  <a href="comms__protocol_8h.html#a422ca7dc35be9c6885ef6a17191d2d5b">More...</a><br /></td></tr>
<tr class="separator:a422ca7dc35be9c6885ef6a17191d2d5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8271805926e924f56b4d0f889c8bec1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="comms__protocol_8h.html#ac8271805926e924f56b4d0f889c8bec1">mymin</a> (int a, int b)</td></tr>
<tr class="memdesc:ac8271805926e924f56b4d0f889c8bec1"><td class="mdescLeft">&#160;</td><td class="mdescRight">returns the minimum value between two integers  <a href="comms__protocol_8h.html#ac8271805926e924f56b4d0f889c8bec1">More...</a><br /></td></tr>
<tr class="separator:ac8271805926e924f56b4d0f889c8bec1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a86fa18c6c3f1a8443ef16c590f5b04f0"><td class="memItemLeft" align="right" valign="top">const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="comms__protocol_8h.html#a86fa18c6c3f1a8443ef16c590f5b04f0">keyBroadcast</a> []</td></tr>
<tr class="separator:a86fa18c6c3f1a8443ef16c590f5b04f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e2e72fc88af24173ffb387f913af46a"><td class="memItemLeft" align="right" valign="top">const long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="comms__protocol_8h.html#a3e2e72fc88af24173ffb387f913af46a">frequency</a> = 868E6</td></tr>
<tr class="separator:a3e2e72fc88af24173ffb387f913af46a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12d49d4800e0d38a899920e831d9e594"><td class="memItemLeft" align="right" valign="top">const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="comms__protocol_8h.html#a12d49d4800e0d38a899920e831d9e594">txPower</a> = 14</td></tr>
<tr class="separator:a12d49d4800e0d38a899920e831d9e594"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a593d148617786934b5b925be6310c092"><td class="memItemLeft" align="right" valign="top">const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="comms__protocol_8h.html#a593d148617786934b5b925be6310c092">spreadingFactor</a> = 7</td></tr>
<tr class="separator:a593d148617786934b5b925be6310c092"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aacf3a14e005217a72253af251126b997"><td class="memItemLeft" align="right" valign="top">const long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="comms__protocol_8h.html#aacf3a14e005217a72253af251126b997">signalBandwidth</a> = 125E3</td></tr>
<tr class="separator:aacf3a14e005217a72253af251126b997"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4ec9bca325aa0279afa600576973bd4"><td class="memItemLeft" align="right" valign="top">const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="comms__protocol_8h.html#ad4ec9bca325aa0279afa600576973bd4">codingRateDenominator</a> = 5</td></tr>
<tr class="separator:ad4ec9bca325aa0279afa600576973bd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a46edecb372aedab666bb0b845ba6b8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="comms__protocol_8h.html#a0a46edecb372aedab666bb0b845ba6b8">currMsg</a></td></tr>
<tr class="separator:a0a46edecb372aedab666bb0b845ba6b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad43c3812e6d13e0518d9f8b8f463ffcf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="comms__protocol_8h.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a></td></tr>
<tr class="separator:ad43c3812e6d13e0518d9f8b8f463ffcf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afad07369259cd493d556473fa3ba8433"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="comms__protocol_8h.html#afad07369259cd493d556473fa3ba8433">prevMil</a></td></tr>
<tr class="separator:afad07369259cd493d556473fa3ba8433"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a903ae438e3a8c1bd9edb5aecb54d25d3"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="comms__protocol_8h.html#a903ae438e3a8c1bd9edb5aecb54d25d3">prevMilSU</a></td></tr>
<tr class="separator:a903ae438e3a8c1bd9edb5aecb54d25d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acba68ade9b1d4ddf6d4289092bd9f21d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="comms__protocol_8h.html#acba68ade9b1d4ddf6d4289092bd9f21d">msgCount</a></td></tr>
<tr class="separator:acba68ade9b1d4ddf6d4289092bd9f21d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5e28ce2507fc32dcc8a3d0cba131653"><td class="memItemLeft" align="right" valign="top">cppQueue&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="comms__protocol_8h.html#ae5e28ce2507fc32dcc8a3d0cba131653">msg_q</a></td></tr>
<tr class="separator:ae5e28ce2507fc32dcc8a3d0cba131653"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38ebab104a77fc87f092da8bc068a58f"><td class="memItemLeft" align="right" valign="top">aes256_context&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="comms__protocol_8h.html#a38ebab104a77fc87f092da8bc068a58f">ctxt</a></td></tr>
<tr class="separator:a38ebab104a77fc87f092da8bc068a58f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Header file for the communication protocol library. Contains the used data structures, function declaration and general configuartion options for the library. </p>
<dl class="section author"><dt>Author</dt><dd>Francisco Santos (<a href="#" onclick="location.href='mai'+'lto:'+'fra'+'nc'+'isc'+'o.'+'vel'+'ez'+'@te'+'cn'+'ico'+'.u'+'lis'+'bo'+'a.p'+'t'; return false;">franc<span style="display: none;">.nosp@m.</span>isco<span style="display: none;">.nosp@m.</span>.vele<span style="display: none;">.nosp@m.</span>z@te<span style="display: none;">.nosp@m.</span>cnico<span style="display: none;">.nosp@m.</span>.uli<span style="display: none;">.nosp@m.</span>sboa.<span style="display: none;">.nosp@m.</span>pt</a>) </dd></dl>
<dl class="section version"><dt>Version</dt><dd>1.0 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2022-08-10</dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright (c) 2022 </dd></dl>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ad51ded0bbd705f02f73fc60c0b721ced"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad51ded0bbd705f02f73fc60c0b721ced">&#9670;&nbsp;</a></span>BLOCK_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BLOCK_SIZE&#160;&#160;&#160;16</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ab9fe47395310b34fa1ceb112c9ca10e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9fe47395310b34fa1ceb112c9ca10e2">&#9670;&nbsp;</a></span>BROADCAST_ID</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BROADCAST_ID&#160;&#160;&#160;0xFF</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a44257c425d2f3b28f78f1f0f048c3307"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44257c425d2f3b28f78f1f0f048c3307">&#9670;&nbsp;</a></span>ENC_BLOCK_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ENC_BLOCK_SIZE&#160;&#160;&#160;(1*<a class="el" href="comms__protocol_8h.html#ad51ded0bbd705f02f73fc60c0b721ced">BLOCK_SIZE</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aafd24a334088de3d7fef309914d49101"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aafd24a334088de3d7fef309914d49101">&#9670;&nbsp;</a></span>IMPLEMENTATION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IMPLEMENTATION&#160;&#160;&#160;FIFO</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="acf744f77bd35653cd140f056c5945650"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf744f77bd35653cd140f056c5945650">&#9670;&nbsp;</a></span>MAX_ENC_PAYLOAD_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_ENC_PAYLOAD_SIZE&#160;&#160;&#160;((<a class="el" href="comms__protocol_8h.html#a6303f7392a2d06be5a121c54278d561b">MAX_PAYLOAD_SIZE</a>/<a class="el" href="comms__protocol_8h.html#ad51ded0bbd705f02f73fc60c0b721ced">BLOCK_SIZE</a>)*<a class="el" href="comms__protocol_8h.html#a44257c425d2f3b28f78f1f0f048c3307">ENC_BLOCK_SIZE</a>)+1</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a44f75a932d96b59ace67a29d83376492"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44f75a932d96b59ace67a29d83376492">&#9670;&nbsp;</a></span>MAX_MSG_ID</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_MSG_ID&#160;&#160;&#160;256</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="addaaa188262c960b2aa51012d684d084"></a>
<h2 class="memtitle"><span class="permalink"><a href="#addaaa188262c960b2aa51012d684d084">&#9670;&nbsp;</a></span>MAX_N_RETRY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_N_RETRY&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a6303f7392a2d06be5a121c54278d561b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6303f7392a2d06be5a121c54278d561b">&#9670;&nbsp;</a></span>MAX_PAYLOAD_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_PAYLOAD_SIZE&#160;&#160;&#160;16</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a623ec78b7909090dbedac4af1d52abb4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a623ec78b7909090dbedac4af1d52abb4">&#9670;&nbsp;</a></span>MAX_QUEUE_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_QUEUE_SIZE&#160;&#160;&#160;5</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="af78f78086b32d7a92d4ee591e3d0345a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af78f78086b32d7a92d4ee591e3d0345a">&#9670;&nbsp;</a></span>STATUS_UPDATE_INTERVAL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STATUS_UPDATE_INTERVAL&#160;&#160;&#160;60000</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a13f06f86104b4525a9429ff04d1c852d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13f06f86104b4525a9429ff04d1c852d">&#9670;&nbsp;</a></span>TIMEOUT_INTERVAL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TIMEOUT_INTERVAL&#160;&#160;&#160;1000</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ad014e4a11d57536042f2c321a8bbbb05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad014e4a11d57536042f2c321a8bbbb05">&#9670;&nbsp;</a></span>Msg</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structstr_msg.html">strMsg</a> <a class="el" href="comms__protocol_8h.html#ad014e4a11d57536042f2c321a8bbbb05">Msg</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9e00f468ca1d333265668dbd3c712260"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e00f468ca1d333265668dbd3c712260">&#9670;&nbsp;</a></span>Payload</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structstr_payload.html">strPayload</a> <a class="el" href="comms__protocol_8h.html#a9e00f468ca1d333265668dbd3c712260">Payload</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a773d5138b9c5e9705f3fd1c1c1dd27fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a773d5138b9c5e9705f3fd1c1c1dd27fe">&#9670;&nbsp;</a></span>decryptMsg()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* decryptMsg </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="acd48c535050ffcd708e68f1a495c809e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd48c535050ffcd708e68f1a495c809e">&#9670;&nbsp;</a></span>decryptMsg2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* decryptMsg2 </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>msg</em>[MAX_PAYLOAD_SIZE+1]</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Decrypts a message string using the AES256 algorythm with the corresponding node key. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>message string to be decrypted </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>char* an array of characters containing the decrypted message </dd></dl>

</div>
</div>
<a id="a091b9218e6ed5b060bc3d1104dde7109"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a091b9218e6ed5b060bc3d1104dde7109">&#9670;&nbsp;</a></span>getMsgFromQueueAndSend()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void getMsgFromQueueAndSend </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>currentMillis</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a message from the send queue and send it. Implements retransmission in case an acknowledge message is not received. Aware of a failed transmission. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">currentMillis</td><td>current time in millisenconds since boot </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

</div>
</div>
<a id="af107f16dd1552bb658c1936141d9ae7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af107f16dd1552bb658c1936141d9ae7a">&#9670;&nbsp;</a></span>LoRa_rxMode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LoRa_rxMode </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the LoRa radio to receive mode. </p>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

</div>
</div>
<a id="af16159d027d3309f71766d777aa5c83c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af16159d027d3309f71766d777aa5c83c">&#9670;&nbsp;</a></span>LoRa_sendMessage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LoRa_sendMessage </td>
          <td>(</td>
          <td class="paramtype">byte *&#160;</td>
          <td class="paramname"><em>message</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the radio to transmit mode, sends a message string using the LoRa radio and sets the radio back to receive mode. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">message</td><td>message to send </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

</div>
</div>
<a id="af2b412b05e4e8c055d44f3eaab81a3ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2b412b05e4e8c055d44f3eaab81a3ec">&#9670;&nbsp;</a></span>LoRa_txMode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LoRa_txMode </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the LoRa radio to transmit mode. </p>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

</div>
</div>
<a id="ac8271805926e924f56b4d0f889c8bec1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8271805926e924f56b4d0f889c8bec1">&#9670;&nbsp;</a></span>mymin()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mymin </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>returns the minimum value between two integers </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a</td><td>first integer to compare </td></tr>
    <tr><td class="paramname">b</td><td>second integer to compare </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int the smaller between a and b </dd></dl>

</div>
</div>
<a id="a54817002e33761dc61558b1138749dfb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54817002e33761dc61558b1138749dfb">&#9670;&nbsp;</a></span>onReceive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void onReceive </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>packetSize</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Called every time a new message is received. Filters unwanted messages, decrypts the payload, gets the relevant fields from the payload and sends back an acknowledge message if necessary. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">packetSize</td><td>size of the incoming message in bytes </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

</div>
</div>
<a id="a219dcdade25952b91806066261a45539"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a219dcdade25952b91806066261a45539">&#9670;&nbsp;</a></span>onTxDone()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void onTxDone </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a4cb3b91f794c0555e3adbe5fce614074"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4cb3b91f794c0555e3adbe5fce614074">&#9670;&nbsp;</a></span>sendAck()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sendAck </td>
          <td>(</td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>msgID</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send an acknowledge message confirming the reception of an uplink transmission. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msgID</td><td>ID of the message being acknowledged </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

</div>
</div>
<a id="ae084789be1260b3603c726abedbf8631"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae084789be1260b3603c726abedbf8631">&#9670;&nbsp;</a></span>sendSensorData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sendSensorData </td>
          <td>(</td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>sensorID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>sensorVal</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds to the message queue an uplink message containing sensor data. </p>
<p>Note: The ADC value is a 12-bit number, so the maximum value is 4095 (counting from 0). To convert the ADC integer value to a real voltage youâ€™ll need to divide it by the maximum value of 4095, then double it (note above that Adafruit halves the voltage), then multiply that by the reference voltage of the ESP32 which is 3.3V and then vinally, multiply that again by the ADC Reference Voltage of 1100mV.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sensorID</td><td>ID of the relevant sensor </td></tr>
    <tr><td class="paramname">sensorVal</td><td>value read from the relevant sensor </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

</div>
</div>
<a id="a3ac3eeb5847878d4d438bfa7622eb428"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ac3eeb5847878d4d438bfa7622eb428">&#9670;&nbsp;</a></span>sendStatus()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sendStatus </td>
          <td>(</td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>msgID</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send an uplink message containing the node status. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msgID</td><td>ID of the status request message </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

</div>
</div>
<a id="a422ca7dc35be9c6885ef6a17191d2d5b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a422ca7dc35be9c6885ef6a17191d2d5b">&#9670;&nbsp;</a></span>setActState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setActState </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the state of the relevant actuator with the relevant value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ID</td><td>ID of the relevant actuator </td></tr>
    <tr><td class="paramname">val</td><td>value to which the actuator is set to </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

</div>
</div>
<a id="adca86b52f12e8136916a580c1a3aaf02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adca86b52f12e8136916a580c1a3aaf02">&#9670;&nbsp;</a></span>splitAndEncrypt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">String splitAndEncrypt </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>msg</em>[MAX_PAYLOAD_SIZE]</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ad4ec9bca325aa0279afa600576973bd4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4ec9bca325aa0279afa600576973bd4">&#9670;&nbsp;</a></span>codingRateDenominator</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int codingRateDenominator = 5</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ad43c3812e6d13e0518d9f8b8f463ffcf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad43c3812e6d13e0518d9f8b8f463ffcf">&#9670;&nbsp;</a></span>count</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int count</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a38ebab104a77fc87f092da8bc068a58f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38ebab104a77fc87f092da8bc068a58f">&#9670;&nbsp;</a></span>ctxt</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">aes256_context ctxt</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a0a46edecb372aedab666bb0b845ba6b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a46edecb372aedab666bb0b845ba6b8">&#9670;&nbsp;</a></span>currMsg</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int currMsg</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a3e2e72fc88af24173ffb387f913af46a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e2e72fc88af24173ffb387f913af46a">&#9670;&nbsp;</a></span>frequency</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const long frequency = 868E6</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a86fa18c6c3f1a8443ef16c590f5b04f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86fa18c6c3f1a8443ef16c590f5b04f0">&#9670;&nbsp;</a></span>keyBroadcast</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const uint8_t keyBroadcast[]</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= { </div>
<div class="line">  0x00, 0x01, 0x02, 0x03, 0x04, 0x05, 0x06, 0x07,</div>
<div class="line">  0x08, 0x09, 0x0a, 0x0b, 0x0c, 0x0d, 0x0e, 0x0f,</div>
<div class="line">  0x10, 0x11, 0x12, 0x13, 0x14, 0x15, 0x16, 0x17,</div>
<div class="line">  0x18, 0x19, 0x1a, 0x1b, 0x1c, 0x1d, 0x1e, 0x0f</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ae5e28ce2507fc32dcc8a3d0cba131653"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5e28ce2507fc32dcc8a3d0cba131653">&#9670;&nbsp;</a></span>msg_q</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cppQueue msg_q</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="acba68ade9b1d4ddf6d4289092bd9f21d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acba68ade9b1d4ddf6d4289092bd9f21d">&#9670;&nbsp;</a></span>msgCount</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int msgCount</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="afad07369259cd493d556473fa3ba8433"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afad07369259cd493d556473fa3ba8433">&#9670;&nbsp;</a></span>prevMil</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long prevMil</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a903ae438e3a8c1bd9edb5aecb54d25d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a903ae438e3a8c1bd9edb5aecb54d25d3">&#9670;&nbsp;</a></span>prevMilSU</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long prevMilSU</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aacf3a14e005217a72253af251126b997"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aacf3a14e005217a72253af251126b997">&#9670;&nbsp;</a></span>signalBandwidth</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const long signalBandwidth = 125E3</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a593d148617786934b5b925be6310c092"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a593d148617786934b5b925be6310c092">&#9670;&nbsp;</a></span>spreadingFactor</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int spreadingFactor = 7</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a12d49d4800e0d38a899920e831d9e594"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12d49d4800e0d38a899920e831d9e594">&#9670;&nbsp;</a></span>txPower</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int txPower = 14</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
